#!/bin/sh
##
# ~/.dwmbar

clock(){

        clock=$(date)
        echo $clock
}

volume(){

	VOL=$(amixer -M get Master | tail -n1 | sed -r "s/.*\[(.*)%\].*/\1/")
	printf "Vol %s%%" "$VOL"
}

cpuload(){

        read -r load x </proc/loadavg
        echo "$load%"
}

cputemp(){

        read -r temp </sys/devices/platform/coretemp.0/hwmon/hwmon1/temp1_input
        echo ${temp%???}Â°
}

mem(){

        free -m | awk 'NR==2{printf"%s/%sMB",$3,$2,$3*100/$2}'
}

network(){

        ip addr show wlp3s1|grep inet |head -1 | awk '{print$2}'
}

while true; do
        xsetroot -name " $(network) | $(mem) | $(cputemp) | $(cpuload) | $(volume) | $(clock) "
   sleep 1s
done &
